## API Report File for "@backstage/backend-plugin-api"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { AnyZodObject } from 'zod';
import { BackstageCredentials } from '@backstage/backend-plugin-api';
import { JsonObject } from '@backstage/types';
import { JSONSchema7 } from 'json-schema';
import { JsonValue } from '@backstage/types';
import { LoggerService } from '@backstage/backend-plugin-api';
import { ServiceRef } from '@backstage/backend-plugin-api';
import { z } from 'zod';

// @alpha (undocumented)
export type ActionsRegistryActionContext<TInputSchema extends AnyZodObject> = {
  input: z.infer<TInputSchema>;
  logger: LoggerService;
  credentials: BackstageCredentials;
};

// @alpha (undocumented)
export type ActionsRegistryActionOptions<
  TInputSchema extends AnyZodObject,
  TOutputSchema extends AnyZodObject,
> = {
  name: string;
  title: string;
  description: string;
  schema: {
    input: (zod: typeof z) => TInputSchema;
    output: (zod: typeof z) => TOutputSchema;
  };
  attributes?: {
    destructive?: boolean;
    idempotent?: boolean;
    readOnly?: boolean;
  };
  action: (context: ActionsRegistryActionContext<TInputSchema>) => Promise<
    z.infer<TOutputSchema> extends void
      ? void
      : {
          output: z.infer<TOutputSchema>;
        }
  >;
};

// @alpha (undocumented)
export interface ActionsRegistryService {
  // (undocumented)
  register<
    TInputSchema extends AnyZodObject,
    TOutputSchema extends AnyZodObject,
  >(
    options: ActionsRegistryActionOptions<TInputSchema, TOutputSchema>,
  ): void;
}

// @alpha
export const actionsRegistryServiceRef: ServiceRef<
  ActionsRegistryService,
  'plugin',
  'singleton'
>;

// @alpha (undocumented)
export interface ActionsService {
  // (undocumented)
  invoke(opts: {
    id: string;
    input?: JsonObject;
    credentials: BackstageCredentials;
  }): Promise<{
    output: JsonValue;
  }>;
  // (undocumented)
  list: (opts: { credentials: BackstageCredentials }) => Promise<{
    actions: ActionsServiceAction[];
  }>;
}

// @alpha (undocumented)
export type ActionsServiceAction = {
  id: string;
  name: string;
  title: string;
  description: string;
  schema: {
    input: JSONSchema7;
    output: JSONSchema7;
  };
  attributes: {
    readOnly: boolean;
    destructive: boolean;
    idempotent: boolean;
  };
};

// @alpha
export const actionsServiceRef: ServiceRef<
  ActionsService,
  'plugin',
  'singleton'
>;

// @alpha
export interface MetricAdvice {
  explicitBucketBoundaries?: number[];
}

// @alpha
export interface MetricAttributes {
  // (undocumented)
  [attributeKey: string]: MetricAttributeValue | undefined;
}

// @alpha
export type MetricAttributeValue =
  | string
  | number
  | boolean
  | Array<null | undefined | string>
  | Array<null | undefined | number>
  | Array<null | undefined | boolean>;

// @alpha
export interface MetricOptions {
  advice?: MetricAdvice;
  description?: string;
  unit?: string;
}

// @alpha
export interface MetricsService {
  createCounter<TAttributes extends MetricAttributes = MetricAttributes>(
    name: string,
    opts?: MetricOptions,
  ): MetricsServiceCounter<TAttributes>;
  createGauge<TAttributes extends MetricAttributes = MetricAttributes>(
    name: string,
    opts?: MetricOptions,
  ): MetricsServiceGauge<TAttributes>;
  createHistogram<TAttributes extends MetricAttributes = MetricAttributes>(
    name: string,
    opts?: MetricOptions,
  ): MetricsServiceHistogram<TAttributes>;
  createObservableCounter<
    TAttributes extends MetricAttributes = MetricAttributes,
  >(
    name: string,
    opts?: MetricOptions,
  ): MetricsServiceObservableCounter<TAttributes>;
  createObservableGauge<
    TAttributes extends MetricAttributes = MetricAttributes,
  >(
    name: string,
    opts?: MetricOptions,
  ): MetricsServiceObservableGauge<TAttributes>;
  createObservableUpDownCounter<
    TAttributes extends MetricAttributes = MetricAttributes,
  >(
    name: string,
    opts?: MetricOptions,
  ): MetricsServiceObservableUpDownCounter<TAttributes>;
  createUpDownCounter<TAttributes extends MetricAttributes = MetricAttributes>(
    name: string,
    opts?: MetricOptions,
  ): MetricsServiceUpDownCounter<TAttributes>;
}

// @alpha
export interface MetricsServiceCounter<
  TAttributes extends MetricAttributes = MetricAttributes,
> {
  // (undocumented)
  add(value: number, attributes?: TAttributes): void;
}

// @alpha
export interface MetricsServiceGauge<
  TAttributes extends MetricAttributes = MetricAttributes,
> {
  // (undocumented)
  record(value: number, attributes?: TAttributes): void;
}

// @alpha
export interface MetricsServiceHistogram<
  TAttributes extends MetricAttributes = MetricAttributes,
> {
  // (undocumented)
  record(value: number, attributes?: TAttributes): void;
}

// @alpha
export interface MetricsServiceObservable<
  TAttributes extends MetricAttributes = MetricAttributes,
> {
  // (undocumented)
  addCallback(callback: MetricsServiceObservableCallback<TAttributes>): void;
  // (undocumented)
  removeCallback(callback: MetricsServiceObservableCallback<TAttributes>): void;
}

// @alpha
export type MetricsServiceObservableCallback<
  TAttributes extends MetricAttributes = MetricAttributes,
> = (
  observableResult: MetricsServiceObservableResult<TAttributes>,
) => void | Promise<void>;

// @alpha
export type MetricsServiceObservableCounter<
  TAttributes extends MetricAttributes = MetricAttributes,
> = MetricsServiceObservable<TAttributes>;

// @alpha
export type MetricsServiceObservableGauge<
  TAttributes extends MetricAttributes = MetricAttributes,
> = MetricsServiceObservable<TAttributes>;

// @alpha
export interface MetricsServiceObservableResult<
  TAttributes extends MetricAttributes = MetricAttributes,
> {
  // (undocumented)
  observe(value: number, attributes?: TAttributes): void;
}

// @alpha
export type MetricsServiceObservableUpDownCounter<
  TAttributes extends MetricAttributes = MetricAttributes,
> = MetricsServiceObservable<TAttributes>;

// @alpha
export const metricsServiceRef: ServiceRef<
  MetricsService,
  'plugin',
  'singleton'
>;

// @alpha
export interface MetricsServiceUpDownCounter<
  TAttributes extends MetricAttributes = MetricAttributes,
> {
  // (undocumented)
  add(value: number, attributes?: TAttributes): void;
}

// @public (undocumented)
export interface RootSystemMetadataService {
  // (undocumented)
  getInstalledPlugins: () => Promise<
    ReadonlyArray<RootSystemMetadataServicePluginInfo>
  >;
}

// @public (undocumented)
export interface RootSystemMetadataServicePluginInfo {
  // (undocumented)
  readonly pluginId: string;
}

// @alpha
export const rootSystemMetadataServiceRef: ServiceRef<
  RootSystemMetadataService,
  'root',
  'singleton'
>;

// (No @packageDocumentation comment for this package)
```
